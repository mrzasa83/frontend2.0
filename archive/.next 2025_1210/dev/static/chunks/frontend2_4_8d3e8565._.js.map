{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///users/mrzasa/projects/current/frontend2.4/components/ui/Tabs.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { ReactNode } from 'react'\r\nimport { X } from 'lucide-react'\r\n\r\nexport interface Tab {\r\n  id: string\r\n  label: string | ReactNode\r\n  content: ReactNode\r\n  closeable?: boolean\r\n  onClose?: () => void\r\n}\r\n\r\ninterface TabsProps {\r\n  tabs: Tab[]\r\n  activeTab?: string\r\n  onTabChange?: (tabId: string) => void\r\n}\r\n\r\nexport default function Tabs({ tabs, activeTab, onTabChange }: TabsProps) {\r\n  const currentTab = activeTab || tabs[0]?.id\r\n  const activeContent = tabs.find(tab => tab.id === currentTab)?.content\r\n\r\n  const handleTabClick = (tabId: string) => {\r\n    if (onTabChange) {\r\n      onTabChange(tabId)\r\n    }\r\n  }\r\n\r\n  const handleClose = (e: React.MouseEvent, tab: Tab) => {\r\n    e.stopPropagation()\r\n    if (tab.onClose) {\r\n      tab.onClose()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      {/* Tab Headers */}\r\n      <div className=\"border-b border-slate-200\">\r\n        <div className=\"flex space-x-1 overflow-x-auto\">\r\n          {tabs.map(tab => (\r\n            <div\r\n              key={tab.id}\r\n              className={`flex items-center gap-2 px-6 py-3 font-medium text-sm transition-colors relative whitespace-nowrap cursor-pointer ${\r\n                currentTab === tab.id\r\n                  ? 'text-blue-600 border-b-2 border-blue-600'\r\n                  : 'text-slate-600 hover:text-slate-800'\r\n              }`}\r\n              onClick={() => handleTabClick(tab.id)}\r\n            >\r\n              <span>{tab.label}</span>\r\n              {tab.closeable && (\r\n                <button\r\n                  onClick={(e) => handleClose(e, tab)}\r\n                  className=\"hover:bg-slate-200 rounded p-0.5 transition-colors\"\r\n                  title=\"Close tab\"\r\n                >\r\n                  <X size={14} />\r\n                </button>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"py-6\">\r\n        {activeContent}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","ReactNode","X","Tab","id","label","content","closeable","onClose","TabsProps","tabs","activeTab","onTabChange","tabId","Tabs","t0","$","$i","Symbol","for","currentTab","t1","find","tab","activeContent","t2","handleTabClick","handleClose","_TabsHandleClose","t3","t4","tab_1","Tabs[tabs.map() > <div>.onClick]","e_0","e","map","t5","t6","tab_0","stopPropagation"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///users/mrzasa/projects/current/frontend2.4/components/roles/RolesTable.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Eye, Pencil, Trash2, Users } from 'lucide-react'\r\n\r\ntype Role = {\r\n  id: number\r\n  name: string\r\n  userCount: number\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\ntype Props = {\r\n  roles: Role[]\r\n  onView: (role: Role) => void\r\n  onEdit: (role: Role) => void\r\n  onDelete: (role: Role) => void\r\n}\r\n\r\nexport default function RolesTable({ roles, onView, onEdit, onDelete }: Props) {\r\n  const [search, setSearch] = useState('')\r\n\r\n  const filtered = roles.filter(r =>\r\n    r.name.toLowerCase().includes(search.toLowerCase())\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search roles...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"border border-slate-300 px-3 py-2 rounded-lg w-1/3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"border border-slate-200 rounded-lg overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-slate-100\">\r\n            <tr>\r\n              <th className=\"text-left px-4 py-3 font-medium text-sm text-slate-700\">\r\n                Role Name\r\n              </th>\r\n              <th className=\"text-left px-4 py-3 font-medium text-sm text-slate-700\">\r\n                Users\r\n              </th>\r\n              <th className=\"text-left px-4 py-3 font-medium text-sm text-slate-700\">\r\n                Created\r\n              </th>\r\n              <th className=\"text-left px-4 py-3 font-medium text-sm text-slate-700\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filtered.map((role) => (\r\n              <tr key={role.id} className=\"border-t border-slate-200 hover:bg-slate-50 transition-colors\">\r\n                <td className=\"px-4 py-3 text-sm font-semibold text-slate-800\">\r\n                  {role.name}\r\n                </td>\r\n                <td className=\"px-4 py-3 text-sm\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Users size={16} className=\"text-slate-400\" />\r\n                    <span>{role.userCount}</span>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-4 py-3 text-sm text-slate-600\">\r\n                  {new Date(role.createdAt).toLocaleDateString()}\r\n                </td>\r\n                <td className=\"px-4 py-3\">\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => onView(role)}\r\n                      className=\"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors\"\r\n                      title=\"View Role\"\r\n                    >\r\n                      <Eye size={18} />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => onEdit(role)}\r\n                      className=\"p-2 text-green-600 hover:bg-green-50 rounded transition-colors\"\r\n                      title=\"Edit Role\"\r\n                    >\r\n                      <Pencil size={18} />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => onDelete(role)}\r\n                      className=\"p-2 text-red-600 hover:bg-red-50 rounded transition-colors\"\r\n                      title=\"Delete Role\"\r\n                    >\r\n                      <Trash2 size={18} />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {filtered.length === 0 && (\r\n        <div className=\"text-center py-12 text-slate-500\">\r\n          No roles found\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","useState","Eye","Pencil","Trash2","Users","Role","id","name","userCount","createdAt","updatedAt","Props","roles","onView","role","onEdit","onDelete","RolesTable","t0","$","$i","Symbol","for","search","setSearch","filtered","t1","t2","t3","t4","t5","t6","r","toLowerCase","includes","filter","t7","e","target","value","t8","Date","toLocaleDateString","RolesTable[filtered.map() > <button>.onClick]","map","t9","length","t10"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///users/mrzasa/projects/current/frontend2.4/components/roles/RoleView.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { X } from 'lucide-react'\r\n\r\ntype Role = {\r\n  id: number\r\n  name: string\r\n  users: Array<{\r\n    id: number\r\n    username: string\r\n    name: string\r\n    email: string\r\n  }>\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\ntype Props = {\r\n  role: Role\r\n  onClose: () => void\r\n}\r\n\r\nexport default function RoleView({ role, onClose }: Props) {\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-slate-200\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-slate-800\">View Role</h2>\r\n            <p className=\"text-sm text-slate-600 mt-1\">Role details (read-only)</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-slate-100 rounded-lg transition-colors\"\r\n          >\r\n            <X size={24} className=\"text-slate-600\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-auto p-6\">\r\n          <div className=\"space-y-6\">\r\n            {/* Role Info */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                Role Name\r\n              </label>\r\n              <div className=\"px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg text-slate-800 font-semibold\">\r\n                {role.name}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                  Created At\r\n                </label>\r\n                <div className=\"px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg text-slate-600 text-sm\">\r\n                  {new Date(role.createdAt).toLocaleString()}\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                  Updated At\r\n                </label>\r\n                <div className=\"px-4 py-3 bg-slate-50 border border-slate-300 rounded-lg text-slate-600 text-sm\">\r\n                  {new Date(role.updatedAt).toLocaleString()}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Users */}\r\n            <div>\r\n              <h3 className=\"font-semibold text-slate-800 mb-3\">\r\n                Users in this Role ({role.users.length})\r\n              </h3>\r\n              <div className=\"border border-slate-200 rounded-lg overflow-hidden\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-slate-100\">\r\n                    <tr>\r\n                      <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Name</th>\r\n                      <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Username</th>\r\n                      <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Email</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {role.users.map(user => (\r\n                      <tr key={user.id} className=\"border-t border-slate-200\">\r\n                        <td className=\"px-4 py-2 text-sm\">{user.name}</td>\r\n                        <td className=\"px-4 py-2 text-sm font-mono\">{user.username}</td>\r\n                        <td className=\"px-4 py-2 text-sm\">{user.email}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n\r\n                {role.users.length === 0 && (\r\n                  <div className=\"text-center py-8 text-slate-500 text-sm\">\r\n                    No users assigned to this role\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-end gap-3 p-6 border-t border-slate-200\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","X","Role","id","name","users","Array","username","email","createdAt","updatedAt","Props","role","onClose","RoleView","t0","$","$i","Symbol","for","t1","t2","t3","t4","t5","t6","t7","Date","toLocaleString","t8","t9","t10","t11","t12","t13","length","t14","t15","map","_RoleViewRoleUsersMap","t16","t17","t18","t19","t20","t21","t22","user"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///users/mrzasa/projects/current/frontend2.4/components/roles/RoleEditTab.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Save, X, UserPlus, UserMinus } from 'lucide-react'\r\n\r\ntype Role = {\r\n  id: number\r\n  name: string\r\n  users: Array<{\r\n    id: number\r\n    username: string\r\n    name: string\r\n    email: string\r\n  }>\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\ntype User = {\r\n  id: number\r\n  username: string\r\n  name: string\r\n  email: string\r\n}\r\n\r\ntype Props = {\r\n  role: Role\r\n  onSave: (role: Role) => void\r\n  onCancel: () => void\r\n  onAddUser: (roleId: number, userId: number) => Promise<void>\r\n  onRemoveUser: (roleId: number, userId: number) => Promise<void>\r\n}\r\n\r\nexport default function RoleEditTab({ role, onSave, onCancel, onAddUser, onRemoveUser }: Props) {\r\n  const [formData, setFormData] = useState(role)\r\n  const [hasChanges, setHasChanges] = useState(false)\r\n  const [allUsers, setAllUsers] = useState<User[]>([])\r\n  const [showAddUser, setShowAddUser] = useState(false)\r\n  const [selectedUserId, setSelectedUserId] = useState<number | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    fetchAllUsers()\r\n  }, [])\r\n\r\n  const fetchAllUsers = async () => {\r\n    try {\r\n      const res = await fetch('/api/users')\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setAllUsers(data)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error)\r\n    }\r\n  }\r\n\r\n  const handleChange = (field: keyof Role, value: any) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n    setHasChanges(true)\r\n  }\r\n\r\n  const handleSave = () => {\r\n    onSave(formData)\r\n    setHasChanges(false)\r\n  }\r\n\r\n  const handleAddUser = async () => {\r\n    if (!selectedUserId) return\r\n    \r\n    setLoading(true)\r\n    try {\r\n      await onAddUser(role.id, selectedUserId)\r\n      setShowAddUser(false)\r\n      setSelectedUserId(null)\r\n      // Refresh would happen in parent\r\n    } catch (error) {\r\n      console.error('Error adding user:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleRemoveUser = async (userId: number) => {\r\n    if (!confirm('Remove this user from the role?')) return\r\n    \r\n    setLoading(true)\r\n    try {\r\n      await onRemoveUser(role.id, userId)\r\n      // Refresh would happen in parent\r\n    } catch (error) {\r\n      console.error('Error removing user:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  // Filter out users already in role\r\n  const availableUsers = allUsers.filter(\r\n    u => !formData.users.some(ru => ru.id === u.id)\r\n  )\r\n\r\n  const inputClassName = \"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none\"\r\n\r\n  return (\r\n    <div>\r\n      {/* Action Bar */}\r\n      <div className=\"flex items-center justify-between mb-6 pb-4 border-b border-slate-200\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-slate-800\">\r\n            Editing: {formData.name}\r\n          </h3>\r\n          {hasChanges && (\r\n            <p className=\"text-sm text-orange-600 mt-1\">\r\n              âš  You have unsaved changes\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className=\"flex gap-3\">\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors flex items-center gap-2\"\r\n          >\r\n            <X size={18} />\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={!hasChanges}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <Save size={18} />\r\n            Save Changes\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Role Name */}\r\n      <div className=\"mb-6\">\r\n        <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n          Role Name\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={formData.name}\r\n          onChange={(e) => handleChange('name', e.target.value)}\r\n          className={inputClassName}\r\n          placeholder=\"Enter role name\"\r\n        />\r\n      </div>\r\n\r\n      {/* Users in Role */}\r\n      <div>\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h4 className=\"font-semibold text-slate-800\">\r\n            Users in this Role ({formData.users.length})\r\n          </h4>\r\n          <button\r\n            onClick={() => setShowAddUser(!showAddUser)}\r\n            className=\"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm\"\r\n          >\r\n            <UserPlus size={16} />\r\n            Add User\r\n          </button>\r\n        </div>\r\n\r\n        {/* Add User Form */}\r\n        {showAddUser && (\r\n          <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n            <div className=\"flex gap-3\">\r\n              <select\r\n                value={selectedUserId || ''}\r\n                onChange={(e) => setSelectedUserId(Number(e.target.value))}\r\n                className=\"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 outline-none\"\r\n              >\r\n                <option value=\"\">Select a user...</option>\r\n                {availableUsers.map(user => (\r\n                  <option key={user.id} value={user.id}>\r\n                    {user.name} ({user.username})\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                onClick={handleAddUser}\r\n                disabled={!selectedUserId || loading}\r\n                className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50\"\r\n              >\r\n                Add\r\n              </button>\r\n              <button\r\n                onClick={() => setShowAddUser(false)}\r\n                className=\"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Users List */}\r\n        <div className=\"border border-slate-200 rounded-lg overflow-hidden\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-slate-100\">\r\n              <tr>\r\n                <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Name</th>\r\n                <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Username</th>\r\n                <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Email</th>\r\n                <th className=\"text-left px-4 py-2 text-sm font-medium text-slate-700\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {formData.users.map(user => (\r\n                <tr key={user.id} className=\"border-t border-slate-200 hover:bg-slate-50\">\r\n                  <td className=\"px-4 py-2 text-sm\">{user.name}</td>\r\n                  <td className=\"px-4 py-2 text-sm font-mono\">{user.username}</td>\r\n                  <td className=\"px-4 py-2 text-sm\">{user.email}</td>\r\n                  <td className=\"px-4 py-2\">\r\n                    <button\r\n                      onClick={() => handleRemoveUser(user.id)}\r\n                      disabled={loading}\r\n                      className=\"p-1 text-red-600 hover:bg-red-50 rounded transition-colors disabled:opacity-50\"\r\n                      title=\"Remove from role\"\r\n                    >\r\n                      <UserMinus size={16} />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          {formData.users.length === 0 && (\r\n            <div className=\"text-center py-8 text-slate-500 text-sm\">\r\n              No users assigned to this role\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["useState","useEffect","Save","X","UserPlus","UserMinus","Role","id","name","users","Array","username","email","createdAt","updatedAt","User","Props","role","onSave","onCancel","onAddUser","roleId","userId","Promise","onRemoveUser","RoleEditTab","formData","setFormData","hasChanges","setHasChanges","allUsers","setAllUsers","showAddUser","setShowAddUser","selectedUserId","setSelectedUserId","loading","setLoading","fetchAllUsers","res","fetch","ok","data","json","error","console","handleChange","field","value","prev","handleSave","handleAddUser","handleRemoveUser","confirm","availableUsers","filter","u","some","ru","inputClassName","e","target","length","Number","map","user"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1544, "column": 0}, "map": {"version":3,"sources":["file:///users/mrzasa/projects/current/frontend2.4/app/%28dashboard%29/users/roles/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useSession } from 'next-auth/react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Tabs from '@/components/ui/Tabs'\r\nimport RolesTable from '@/components/roles/RolesTable'\r\nimport RoleView from '@/components/roles/RoleView'\r\nimport RoleEditTab from '@/components/roles/RoleEditTab'\r\nimport { Plus } from 'lucide-react'\r\n\r\ntype Role = {\r\n  id: number\r\n  name: string\r\n  userCount: number\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\ntype RoleDetail = {\r\n  id: number\r\n  name: string\r\n  users: Array<{\r\n    id: number\r\n    username: string\r\n    name: string\r\n    email: string\r\n  }>\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport default function RolesPage() {\r\n  const { data: session } = useSession()\r\n  const router = useRouter()\r\n  const [roles, setRoles] = useState<Role[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [viewRole, setViewRole] = useState<RoleDetail | null>(null)\r\n  const [editingRoles, setEditingRoles] = useState<RoleDetail[]>([])\r\n  const [activeTab, setActiveTab] = useState('all')\r\n\r\n  const isAdmin = session?.user?.roles?.includes('admin') || false\r\n\r\n  useEffect(() => {\r\n    if (!isAdmin) {\r\n      router.push('/users')\r\n      return\r\n    }\r\n    fetchRoles()\r\n  }, [isAdmin, router])\r\n\r\n  const fetchRoles = async () => {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      \r\n      const res = await fetch('/api/roles')\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Failed to fetch roles: ${res.status}`)\r\n      }\r\n      \r\n      const data = await res.json()\r\n      setRoles(data)\r\n    } catch (error) {\r\n      console.error('Error fetching roles:', error)\r\n      setError(error instanceof Error ? error.message : 'Failed to load roles')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchRoleDetail = async (roleId: number): Promise<RoleDetail> => {\r\n    const res = await fetch(`/api/roles/${roleId}`)\r\n    if (!res.ok) throw new Error('Failed to fetch role details')\r\n    return res.json()\r\n  }\r\n\r\n  const handleView = async (role: Role) => {\r\n    try {\r\n      const detail = await fetchRoleDetail(role.id)\r\n      setViewRole(detail)\r\n    } catch (error) {\r\n      console.error('Error:', error)\r\n      alert('Failed to load role details')\r\n    }\r\n  }\r\n\r\n  const handleEdit = async (role: Role) => {\r\n    try {\r\n      const detail = await fetchRoleDetail(role.id)\r\n      const alreadyEditing = editingRoles.find(r => r.id === detail.id)\r\n      if (!alreadyEditing) {\r\n        setEditingRoles(prev => [...prev, detail])\r\n      }\r\n      setActiveTab(`edit-${detail.id}`)\r\n    } catch (error) {\r\n      console.error('Error:', error)\r\n      alert('Failed to load role details')\r\n    }\r\n  }\r\n\r\n  const handleCloseEditTab = (roleId: number) => {\r\n    setEditingRoles(prev => prev.filter(r => r.id !== roleId))\r\n    setActiveTab('all')\r\n  }\r\n\r\n  const handleSave = async (role: RoleDetail) => {\r\n    try {\r\n      const res = await fetch(`/api/roles/${role.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name: role.name }),\r\n      })\r\n      \r\n      if (!res.ok) {\r\n        throw new Error('Failed to save role')\r\n      }\r\n      \r\n      await fetchRoles()\r\n      handleCloseEditTab(role.id)\r\n      \r\n    } catch (error) {\r\n      console.error('Error saving role:', error)\r\n      alert('Failed to save role')\r\n    }\r\n  }\r\n\r\n  const handleAddUser = async (roleId: number, userId: number) => {\r\n    try {\r\n      const res = await fetch(`/api/roles/${roleId}/users`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ userId }),\r\n      })\r\n      \r\n      if (!res.ok) {\r\n        const data = await res.json()\r\n        throw new Error(data.error || 'Failed to add user')\r\n      }\r\n      \r\n      // Refresh the role detail\r\n      const detail = await fetchRoleDetail(roleId)\r\n      setEditingRoles(prev => prev.map(r => r.id === roleId ? detail : r))\r\n      \r\n    } catch (error) {\r\n      console.error('Error adding user:', error)\r\n      alert(error instanceof Error ? error.message : 'Failed to add user')\r\n    }\r\n  }\r\n\r\n  const handleRemoveUser = async (roleId: number, userId: number) => {\r\n    try {\r\n      const res = await fetch(`/api/roles/${roleId}/users?userId=${userId}`, {\r\n        method: 'DELETE',\r\n      })\r\n      \r\n      if (!res.ok) {\r\n        throw new Error('Failed to remove user')\r\n      }\r\n      \r\n      // Refresh the role detail\r\n      const detail = await fetchRoleDetail(roleId)\r\n      setEditingRoles(prev => prev.map(r => r.id === roleId ? detail : r))\r\n      \r\n    } catch (error) {\r\n      console.error('Error removing user:', error)\r\n      alert('Failed to remove user')\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (role: Role) => {\r\n    if (!confirm(`Delete role \"${role.name}\"? This will remove all user associations.`)) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`/api/roles/${role.id}`, {\r\n        method: 'DELETE',\r\n      })\r\n      \r\n      if (!res.ok) {\r\n        throw new Error('Failed to delete role')\r\n      }\r\n      \r\n      await fetchRoles()\r\n      alert('Role deleted successfully')\r\n      \r\n    } catch (error) {\r\n      console.error('Error deleting role:', error)\r\n      alert('Failed to delete role')\r\n    }\r\n  }\r\n\r\n  const handleAddRole = async () => {\r\n    const name = prompt('Enter role name:')\r\n    if (!name || !name.trim()) return\r\n\r\n    try {\r\n      const res = await fetch('/api/roles', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name: name.trim() }),\r\n      })\r\n      \r\n      if (!res.ok) {\r\n        const data = await res.json()\r\n        throw new Error(data.error || 'Failed to create role')\r\n      }\r\n      \r\n      await fetchRoles()\r\n      alert('Role created successfully')\r\n      \r\n    } catch (error) {\r\n      console.error('Error creating role:', error)\r\n      alert(error instanceof Error ? error.message : 'Failed to create role')\r\n    }\r\n  }\r\n\r\n  if (!isAdmin) {\r\n    return null\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-slate-200 rounded w-1/4 mb-4\"></div>\r\n          <div className=\"h-64 bg-slate-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\r\n          <p className=\"font-semibold\">Error loading roles</p>\r\n          <p className=\"text-sm\">{error}</p>\r\n          <button \r\n            onClick={fetchRoles}\r\n            className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const roleListTab = (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-slate-800\">\r\n          All Roles ({roles.length})\r\n        </h3>\r\n        <button \r\n          onClick={handleAddRole}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n        >\r\n          <Plus size={18} />\r\n          Add Role\r\n        </button>\r\n      </div>\r\n      <RolesTable \r\n        roles={roles} \r\n        onView={handleView} \r\n        onEdit={handleEdit}\r\n        onDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n\r\n  const tabs = [\r\n    { \r\n      id: 'all', \r\n      label: 'All Roles', \r\n      content: roleListTab,\r\n      closeable: false\r\n    },\r\n    ...editingRoles.map(role => ({\r\n      id: `edit-${role.id}`,\r\n      label: role.name,\r\n      content: (\r\n        <RoleEditTab\r\n          role={role}\r\n          onSave={handleSave}\r\n          onCancel={() => handleCloseEditTab(role.id)}\r\n          onAddUser={handleAddUser}\r\n          onRemoveUser={handleRemoveUser}\r\n        />\r\n      ),\r\n      closeable: true,\r\n      onClose: () => handleCloseEditTab(role.id)\r\n    }))\r\n  ]\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-2xl font-bold text-slate-800 mb-2\">Roles</h2>\r\n      <p className=\"text-slate-600 mb-6\">Manage user roles and permissions</p>\r\n\r\n      <div className=\"bg-white rounded-lg shadow\">\r\n        <div className=\"p-6\">\r\n          <Tabs tabs={tabs} activeTab={activeTab} onTabChange={setActiveTab} />\r\n        </div>\r\n      </div>\r\n\r\n      {viewRole && (\r\n        <RoleView\r\n          role={viewRole}\r\n          onClose={() => setViewRole(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":["useState","useEffect","useSession","useRouter","Tabs","RolesTable","RoleView","RoleEditTab","Plus","Role","id","name","userCount","createdAt","updatedAt","RoleDetail","users","Array","username","email","RolesPage","data","session","router","roles","setRoles","loading","setLoading","error","setError","viewRole","setViewRole","editingRoles","setEditingRoles","activeTab","setActiveTab","isAdmin","user","includes","push","fetchRoles","res","fetch","ok","Error","status","json","console","message","fetchRoleDetail","roleId","Promise","handleView","role","detail","alert","handleEdit","alreadyEditing","find","r","prev","handleCloseEditTab","filter","handleSave","method","headers","body","JSON","stringify","handleAddUser","userId","map","handleRemoveUser","handleDelete","confirm","handleAddRole","prompt","trim","roleListTab","length","tabs","label","content","closeable","onClose"],"mappings":"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","ignoreList":[],"debugId":null}}]
}